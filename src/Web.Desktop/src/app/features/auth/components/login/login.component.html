<!-- Login Container -->
<div class="login-container">
  <div class="login-content">
    
    <!-- Left Side - Branding -->
    <div class="login-branding" [@slideInFromLeft]>
      <div class="brand-logo" [@scaleIn]>
        <mat-icon class="brand-icon">content_cut</mat-icon>
        <h1 class="brand-title">Barbearia SaaS</h1>
      </div>
      <p class="brand-subtitle" [@fadeIn]>
        Sistema completo de gestão para sua barbearia
      </p>
      <div class="brand-features" [@staggerAnimation]>
        <div class="feature-item">
          <mat-icon>event</mat-icon>
          <span>Agendamentos Online</span>
        </div>
        <div class="feature-item">
          <mat-icon>people</mat-icon>
          <span>Gestão de Clientes</span>
        </div>
        <div class="feature-item">
          <mat-icon>analytics</mat-icon>
          <span>Relatórios Detalhados</span>
        </div>
        <div class="feature-item">
          <mat-icon>payment</mat-icon>
          <span>Controle Financeiro</span>
        </div>
      </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="login-form-container" [@slideInFromRight]>
      <mat-card class="login-card" [@scaleIn]>
        
        <!-- Header -->
        <mat-card-header class="login-header" [@fadeIn]>
          <mat-card-title>Acesso à Barbearia</mat-card-title>
          <mat-card-subtitle>Entre com suas credenciais</mat-card-subtitle>
        </mat-card-header>

        <!-- Form -->
        <mat-card-content>
          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
            
            <!-- Error Message -->
            <div *ngIf="errorMessage" class="error-message" [@slideIn]>
              <mat-icon>error</mat-icon>
              <span>{{ errorMessage }}</span>
            </div>

            <!-- Email Field -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email</mat-label>
              <input 
                matInput 
                type="email" 
                formControlName="email"
                placeholder="seu@email.com"
                [disabled]="isLoading"
                aria-label="Campo de email para login"
                aria-describedby="email-help email-error"
                autocomplete="email"
                data-cy="desktop-email">
              <mat-icon matSuffix aria-hidden="true">email</mat-icon>
              <mat-hint id="email-help">Digite seu endereço de email</mat-hint>
              <mat-error id="email-error" *ngIf="email?.hasError('required')">
                Email é obrigatório
              </mat-error>
              <mat-error id="email-error" *ngIf="email?.hasError('email')">
                Email inválido
              </mat-error>
            </mat-form-field>

            <!-- Password Field -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Senha</mat-label>
              <input 
                matInput 
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                placeholder="Sua senha"
                [disabled]="isLoading"
                aria-label="Campo de senha para login"
                aria-describedby="password-help password-error"
                autocomplete="current-password"
                data-cy="desktop-password">
              <button 
                mat-icon-button 
                matSuffix 
                type="button"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="showPassword ? 'Ocultar senha' : 'Mostrar senha'"
                [attr.aria-pressed]="showPassword"
                [disabled]="isLoading"
                data-cy="desktop-password-toggle">
                <mat-icon aria-hidden="true">{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
              <mat-hint id="password-help">Digite sua senha (mínimo 6 caracteres)</mat-hint>
              <mat-error id="password-error" *ngIf="password?.hasError('required')">
                Senha é obrigatória
              </mat-error>
              <mat-error id="password-error" *ngIf="password?.hasError('minlength')">
                Senha deve ter pelo menos 6 caracteres
              </mat-error>
            </mat-form-field>

            <!-- Remember Me -->
            <div class="form-options">
              <mat-checkbox formControlName="rememberMe" [disabled]="isLoading">
                Lembrar de mim
              </mat-checkbox>
              <a href="#" class="forgot-password">Esqueci minha senha</a>
            </div>

            <!-- Login Button -->
            <button 
              mat-raised-button 
              color="primary" 
              type="submit"
              class="login-button full-width"
              [disabled]="isLoading"
              [attr.aria-label]="isLoading ? 'Fazendo login, aguarde...' : 'Fazer login na barbearia'"
              data-cy="desktop-login-button">
              <mat-spinner *ngIf="isLoading" diameter="20" class="button-spinner" aria-hidden="true"></mat-spinner>
              <mat-icon *ngIf="!isLoading" aria-hidden="true">login</mat-icon>
              <span>{{ isLoading ? 'Entrando...' : 'Entrar' }}</span>
            </button>

            <!-- Divider -->
            <mat-divider class="form-divider"></mat-divider>

            <!-- Register Link -->
            <div class="register-section">
              <p class="register-text">Não tem uma barbearia cadastrada?</p>
              <button 
                mat-stroked-button 
                color="accent" 
                type="button"
                class="register-button full-width"
                (click)="navigateToRegister()"
                [disabled]="isLoading">
                <mat-icon>business</mat-icon>
                <span>Cadastrar Barbearia</span>
              </button>
            </div>

          </form>
        </mat-card-content>

      </mat-card>

      <!-- Footer -->
      <div class="login-footer">
        <p>© 2024 Barbearia SaaS. Desenvolvido com ❤️</p>
      </div>

    </div>

  </div>
</div>
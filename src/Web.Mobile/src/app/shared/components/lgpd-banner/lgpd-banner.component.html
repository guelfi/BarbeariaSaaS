<!-- LGPD Banner Mobile -->
<div 
  class="mobile-lgpd-banner" 
  [@slideUp]="isVisible ? 'visible' : 'hidden'"
  [class.visible]="isVisible"
  role="dialog"
  aria-labelledby="mobile-lgpd-title"
  aria-describedby="mobile-lgpd-description">
  
  <div class="mobile-lgpd-content">
    
    <!-- Ícone e Título -->
    <div class="mobile-lgpd-header">
      <mat-icon class="lgpd-icon">security</mat-icon>
      <div class="lgpd-text">
        <h3 id="mobile-lgpd-title" class="lgpd-title">
          Proteção de Dados - LGPD
        </h3>
        <p id="mobile-lgpd-description" class="lgpd-description">
          Utilizamos cookies para melhorar sua experiência. 
          <button type="button" class="link-button" (click)="openModal()">
            Saiba mais
          </button>
        </p>
      </div>
    </div>

    <!-- Botões de Ação Mobile -->
    <div class="mobile-lgpd-actions">
      <button 
        mat-stroked-button 
        color="primary"
        class="mobile-essential-button"
        (click)="acceptEssential()"
        aria-label="Aceitar apenas cookies essenciais">
        Essenciais
      </button>
      
      <button 
        mat-raised-button 
        color="primary"
        class="mobile-accept-button"
        (click)="acceptAll()"
        aria-label="Aceitar todos os cookies">
        <mat-icon>check</mat-icon>
        Aceitar
      </button>
    </div>

  </div>

</div>

<!-- Modal Detalhado Mobile -->
<div 
  class="mobile-lgpd-modal-overlay" 
  [class.visible]="showModal"
  (click)="closeModal()">
</div>

<div 
  class="mobile-lgpd-modal" 
  [@modalSlide]="showModal ? 'open' : 'closed'"
  [class.visible]="showModal"
  role="dialog"
  aria-labelledby="modal-lgpd-title"
  aria-modal="true">
  
  <div class="modal-content">
    
    <!-- Header do Modal -->
    <div class="modal-header">
      <h2 id="modal-lgpd-title">Proteção de Dados Pessoais</h2>
      <button 
        mat-icon-button 
        class="modal-close-button"
        (click)="closeModal()"
        aria-label="Fechar modal">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <!-- Conteúdo do Modal -->
    <div class="modal-body">
      
      <div class="lgpd-intro">
        <p>
          Em conformidade com a Lei Geral de Proteção de Dados (LGPD - Lei 13.709/2018), 
          informamos como tratamos seus dados pessoais em nosso aplicativo.
        </p>
      </div>

      <!-- Categorias de Cookies -->
      <div class="mobile-cookie-categories">
        
        <div class="mobile-cookie-category essential">
          <div class="category-header">
            <mat-icon class="category-icon">check_circle</mat-icon>
            <strong>Cookies Essenciais</strong>
            <span class="always-active">Sempre Ativo</span>
          </div>
          <p>Necessários para o funcionamento do app, login e segurança.</p>
        </div>

        <div class="mobile-cookie-category">
          <div class="category-header">
            <mat-icon class="category-icon">analytics</mat-icon>
            <strong>Analytics</strong>
          </div>
          <p>Nos ajudam a melhorar o app analisando como você o utiliza.</p>
        </div>

        <div class="mobile-cookie-category">
          <div class="category-header">
            <mat-icon class="category-icon">campaign</mat-icon>
            <strong>Marketing</strong>
          </div>
          <p>Personalizam ofertas e promoções relevantes para você.</p>
        </div>

        <div class="mobile-cookie-category">
          <div class="category-header">
            <mat-icon class="category-icon">tune</mat-icon>
            <strong>Preferências</strong>
          </div>
          <p>Lembram suas configurações e personalizam sua experiência.</p>
        </div>

      </div>

      <!-- Seus Direitos -->
      <div class="mobile-lgpd-rights">
        <h3>Seus Direitos:</h3>
        <div class="rights-grid">
          <div class="right-item">
            <mat-icon>visibility</mat-icon>
            <span>Acesso aos dados</span>
          </div>
          <div class="right-item">
            <mat-icon>edit</mat-icon>
            <span>Correção</span>
          </div>
          <div class="right-item">
            <mat-icon>delete</mat-icon>
            <span>Eliminação</span>
          </div>
          <div class="right-item">
            <mat-icon>file_download</mat-icon>
            <span>Portabilidade</span>
          </div>
          <div class="right-item">
            <mat-icon>block</mat-icon>
            <span>Revogação</span>
          </div>
          <div class="right-item">
            <mat-icon>info</mat-icon>
            <span>Informação</span>
          </div>
        </div>
        
        <div class="contact-info">
          <p>Para exercer seus direitos:</p>
          <a href="mailto:privacidade@barbeariasaas.com.br" class="contact-link">
            <mat-icon>email</mat-icon>
            privacidade@barbeariasaas.com.br
          </a>
        </div>
      </div>

      <!-- Links Importantes -->
      <div class="important-links">
        <button 
          mat-stroked-button 
          class="policy-link"
          (click)="openPrivacyPolicy()">
          <mat-icon>description</mat-icon>
          Política de Privacidade
        </button>
        
        <button 
          mat-stroked-button 
          class="terms-link"
          (click)="openTermsOfUse()">
          <mat-icon>gavel</mat-icon>
          Termos de Uso
        </button>
      </div>

    </div>

    <!-- Footer do Modal -->
    <div class="modal-footer">
      <button 
        mat-stroked-button 
        color="primary"
        class="modal-essential-button"
        (click)="acceptEssential()">
        Apenas Essenciais
      </button>
      
      <button 
        mat-raised-button 
        color="primary"
        class="modal-accept-button"
        (click)="acceptAll()">
        <mat-icon>check</mat-icon>
        Aceitar Todos
      </button>
    </div>

  </div>

</div>

<!-- Ícone Flutuante de Privacidade (sempre visível após consentimento) -->
<button 
  mat-fab 
  class="privacy-float-button"
  [class.hidden]="isVisible"
  (click)="openModal()"
  aria-label="Configurações de privacidade"
  matTooltip="Configurações de Privacidade"
  matTooltipPosition="above">
  <mat-icon>security</mat-icon>
</button>
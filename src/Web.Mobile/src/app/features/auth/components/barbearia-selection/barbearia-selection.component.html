<!-- Barbearia Selection Bottom Sheet -->
<div class="barbearia-selection-container">
  
  <!-- Header -->
  <div class="selection-header">
    <div class="header-content">
      <h2>Escolher Barbearia</h2>
      <button mat-icon-button (click)="close()" class="close-button">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <p class="header-subtitle">Selecione a barbearia mais próxima de você</p>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-section">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Buscando barbearias próximas...</p>
  </div>

  <!-- Barbearias List -->
  <div *ngIf="!isLoading" class="barbearias-list">
    <mat-list>
      <mat-list-item 
        *ngFor="let barbearia of barbearias; let i = index"
        class="barbearia-item"
        [class.selected]="selectedBarbearia?.id === barbearia.id"
        (click)="selectBarbearia(barbearia)"
        [style.animation-delay.ms]="i * 100">
        
        <div class="barbearia-content">
          
          <!-- Left Section -->
          <div class="barbearia-info">
            <div class="barbearia-header">
              <h3 class="barbearia-name">{{ barbearia.nome }}</h3>
              <div class="barbearia-rating">
                <mat-icon 
                  *ngFor="let star of getRatingStars(barbearia.avaliacao!)"
                  class="star-icon"
                  [class.filled]="star === 'star'"
                  [class.half]="star === 'star_half'"
                  [class.empty]="star === 'star_border'">
                  {{ star }}
                </mat-icon>
                <span class="rating-value">{{ barbearia.avaliacao }}</span>
              </div>
            </div>
            
            <div class="barbearia-details">
              <div class="detail-item">
                <mat-icon class="detail-icon">location_on</mat-icon>
                <span class="detail-text">{{ barbearia.endereco }}</span>
              </div>
              
              <div class="detail-item">
                <mat-icon class="detail-icon">phone</mat-icon>
                <span class="detail-text">{{ barbearia.telefone }}</span>
              </div>
            </div>
          </div>

          <!-- Right Section -->
          <div class="barbearia-meta">
            <div class="meta-item distance">
              <mat-icon>near_me</mat-icon>
              <span>{{ barbearia.distancia }}</span>
            </div>
            
            <div class="meta-item time">
              <mat-icon>access_time</mat-icon>
              <span>{{ barbearia.tempoEstimado }}</span>
            </div>
            
            <div class="select-indicator">
              <mat-icon>chevron_right</mat-icon>
            </div>
          </div>

        </div>

        <!-- Selection Ripple Effect -->
        <div class="selection-ripple" *ngIf="selectedBarbearia?.id === barbearia.id"></div>

      </mat-list-item>
    </mat-list>
  </div>

  <!-- Footer -->
  <div class="selection-footer" *ngIf="!isLoading">
    <p class="footer-text">
      <mat-icon>info_outline</mat-icon>
      Distâncias e tempos são estimados
    </p>
  </div>

</div>